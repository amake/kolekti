CKEDITOR.plugins.add('onchange',{init:function(a){var b;function c(){if(b)return;b=setTimeout(function(){b=0;a.fire('change');},a.config.minimumChangeMilliseconds||100);};a.on('saveSnapshot',function(d){if(!d.data||!d.data.contentOnly)c();});a.getCommand('undo').on('afterUndo',c);a.getCommand('redo').on('afterRedo',c);a.on('contentDom',function(){a.document.on('keydown',function(d){if(d.data.$.ctrlKey||d.data.$.metaKey)return;var e=d.data.$.keyCode;if(e==8||e==13||e==32||e>=46&&e<=90||e>=96&&e<=111||e>=186&&e<=222)c();});a.document.on('drop',c);a.document.getBody().on('drop',c);});a.on('mode',function(d){if(a.mode!='source')return;a.textarea.on('keydown',function(e){if(!e.data.$.ctrlKey&&!e.data.$.metaKey)c();});a.textarea.on('drop',c);a.textarea.on('input',c);});a.on('afterCommandExec',function(d){if(d.data.name=='source')return;if(d.data.command.canUndo!==false)c();});}});
