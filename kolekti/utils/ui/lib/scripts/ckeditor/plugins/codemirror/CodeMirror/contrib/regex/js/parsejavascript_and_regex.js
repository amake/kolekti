var JSAndRegexParser=Editor.Parser=(function(){var b=function(){},c,d,e,f={},g={};function h(m){var n=m,o=0;return{next:function(){if(o>=n.length)throw StopIteration;return n.charAt(o++);}};};function i(){var m;try{m=c.next();}catch(n){k(j);return j();}k(i);return m;};function j(){var m=d.next();if(m.type==='regexp'){e=stringStream(h(m.content));c=RegexParser.make(e);return i();}return m;};function k(m){b=m;};function l(m,n){JSParser.configure(g);RegexParser.configure(f);d=JSParser.make(m,n);k(j);var o={next:function(){return b(m);},copy:function(){var p=b,q=e,r=d.copy(),s=c&&c.copy();return function(t){m=t;d=r(t);c=s&&s(q);b=p;return o;};}};return o;};return{make:l,configure:function(m){for(var n in m){if(/^regex_/.test(n))f[n.replace(/^regex_/,'')]=m[n];else g[n.replace(/^js_/,'')]=m[n];}f.flavor=f.flavor||'ecma-262-ed3';f.literal=true;f.literal_initial='/';}};})();
