var CSSParser=Editor.Parser=(function(){var b=(function(){function e(i,j){var k=i.next();if(k=='@'){i.nextWhileMatches(/\w/);return 'css-at';}else if(k=='/'&&i.equals('*')){j(f);return null;}else if(k=='<'&&i.equals('!')){j(g);return null;}else if(k=='=')return 'css-compare';else if(i.equals('=')&&(k=='~'||k=='|')){i.next();return 'css-compare';}else if(k=='"'||k=="'"){j(h(k));return null;}else if(k=='#'){i.nextWhileMatches(/\w/);return 'css-hash';}else if(k=='!'){i.nextWhileMatches(/[ \t]/);i.nextWhileMatches(/\w/);return 'css-important';}else if(/\d/.test(k)){i.nextWhileMatches(/[\w.%]/);return 'css-unit';}else if(/[,.+>*\/]/.test(k))return 'css-select-op';else if(/[;{}:\[\]]/.test(k))return 'css-punctuation';else{i.nextWhileMatches(/[\w\\\-_]/);return 'css-identifier';}};function f(i,j){var k=false;while(!i.endOfLine()){var l=i.next();if(k&&l=='/'){j(e);break;}k=l=='*';}return 'css-comment';};function g(i,j){var k=0;while(!i.endOfLine()){var l=i.next();if(k>=2&&l=='>'){j(e);break;}k=l=='-'?k+1:0;}return 'css-comment';};function h(i){return function(j,k){var l=false;while(!j.endOfLine()){var m=j.next();if(m==i&&!l)break;l=!l&&m=='\\';}if(!l)k(e);return 'css-string';};};return function(i,j){return tokenizer(i,j||e);};})();function c(e,f,g){return function(h){if(!e||/^\}/.test(h))return g;else if(f)return g+indentUnit*2;else return g+indentUnit;};};function d(e,f){f=f||0;var g=b(e),h=false,i=false,j=false,k={next:function(){var l=g.next(),m=l.style,n=l.content;if(m=='css-hash')m=l.style=i?'css-colorcode':'css-identifier';if(m=='css-identifier'){if(i)l.style='css-value';else if(!h&&!j)l.style='css-selector';}if(n=='\n')l.indentation=c(h,i,f);if(n=='{'&&j=='@media')j=false;else if(n=='{')h=true;else if(n=='}')h=i=j=false;else if(n==';')i=j=false;else if(h&&m!='css-comment'&&m!='whitespace')i=true;else if(!h&&m=='css-at')j=n;return l;},copy:function(){var l=h,m=i,n=g.state;return function(o){g=b(o,n);h=l;i=m;return k;};}};return k;};return{make:d,electricChars:'}'};})();
