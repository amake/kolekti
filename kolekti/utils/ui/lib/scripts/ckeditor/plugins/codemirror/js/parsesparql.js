var SparqlParser=Editor.Parser=(function(){function b(i){return new RegExp('^(?:'+i.join('|')+')$','i');};var c=b(['str','lang','langmatches','datatype','bound','sameterm','isiri','isuri','isblank','isliteral','union','a']),d=b(['base','prefix','select','distinct','reduced','construct','describe','ask','from','named','where','order','limit','offset','filter','optional','graph','by','asc','desc']),e=/[*+\-<>=&|]/,f=(function(){function i(k,l){var m=k.next();if(m=='$'||m=='?'){k.nextWhileMatches(/[\w\d]/);return 'sp-var';}else if(m=='<'&&!k.matches(/[\s\u00a0=]/)){k.nextWhileMatches(/[^\s\u00a0>]/);if(k.equals('>'))k.next();return 'sp-uri';}else if(m=='"'||m=="'"){l(j(m));return null;}else if(/[{}\(\),\.;\[\]]/.test(m))return 'sp-punc';else if(m=='#'){while(!k.endOfLine())k.next();return 'sp-comment';}else if(e.test(m)){k.nextWhileMatches(e);return 'sp-operator';}else if(m==':'){k.nextWhileMatches(/[\w\d\._\-]/);return 'sp-prefixed';}else{k.nextWhileMatches(/[_\w\d]/);if(k.equals(':')){k.next();k.nextWhileMatches(/[\w\d_\-]/);return 'sp-prefixed';}var n=k.get(),o;if(c.test(n))o='sp-operator';else if(d.test(n))o='sp-keyword';else o='sp-word';return{style:o,content:n};}};function j(k){return function(l,m){var n=false;while(!l.endOfLine()){var o=l.next();if(o==k&&!n){m(i);break;}n=!n&&o=='\\';}return 'sp-literal';};};return function(k,l){return tokenizer(k,l||i);};})();function g(i){return function(j){var k=j&&j.charAt(0);if(/[\]\}]/.test(k))while(i&&i.type=='pattern')i=i.prev;var l=i&&k==matching[i.type];if(!i)return 0;else if(i.type=='pattern')return i.col;else if(i.align)return i.col-(l?i.width:0);else return i.indent+(l?0:indentUnit);};};function h(i){var j=f(i),k=null,l=0,m=0;function n(q,r){k={prev:k,indent:l,col:m,type:q,width:r};};function o(){k=k.prev;};var p={next:function(){var q=j.next(),r=q.style,s=q.content,t=q.value.length;if(s=='\n'){q.indentation=g(k);l=m=0;if(k&&k.align==null)k.align=false;}else if(r=='whitespace'&&m==0)l=t;else if(r!='sp-comment'&&k&&k.align==null)k.align=true;if(s!='\n')m+=t;if(/[\[\{\(]/.test(s))n(s,t);else if(/[\]\}\)]/.test(s)){while(k&&k.type=='pattern')o();if(k&&s==matching[k.type])o();}else if(s=='.'&&k&&k.type=='pattern')o();else if((r=='sp-word'||r=='sp-prefixed'||r=='sp-uri'||r=='sp-var'||r=='sp-literal')&&k&&/[\{\[]/.test(k.type))n('pattern',t);return q;},copy:function(){var q=k,r=l,s=m,t=j.state;return function(u){j=f(u,t);k=q;l=r;m=s;return p;};}};return p;};return{make:h,electricChars:'}]'};})();
