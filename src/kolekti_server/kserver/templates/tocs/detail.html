{% extends "base.html" %}

{% block extrascripts %}
    <script src="/static/js/kolekti-tocs.js"></script>
{% endblock %}

{% block title %}{{ toctitle }}{% endblock %}


{% block menu %}
    
    <div>
      <button type="button" class="btn btn-default btn-block disabled" id="btn_save">
	{# <span class="glyphicon glyphicon-save"></span> #}
	Enregistrer
      </button>
      <button type="button" class="btn btn-default btn-block" id="btn_save_as">
	{# <span class="glyphicon glyphicon-save"></span> #}
	Enregistrer sous...
      </button>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
	<h4 class="panel-title">
	  <a data-toggle="collapse" href="#collapsePublier">
	    Publication
	  </a>
	</h4>
      </div>
      <div id="collapsePublier" class="panel-collapse collapse in">
	<div class="panel-body">
	  {% for job in jobs %}
	  <div class="checkbox">
	    <label>
  	      <input type="checkbox" class="publish_job" id="job_{{ job.name }}" data-kolekti-jobname="{{ job.name }}" data-kolekti-job="{{ job.path }}"/>
	      {{ job.name }}
	    </label>
	  </div>
	  
	  {% endfor %}
	  <div class="row">
	    <div class="col-sm-6 col-md-6">
	      <button type="button" class="btn btn-block btn-default" id="btn_publish">Publier</button>
	    </div>
	    <div class="col-sm-6 col-md-6">
	      <button type="button" class="btn btn-block btn-default" id="btn_draft">Créer un instantané</button>
	    </div>
	  </div>
	</div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
	<h4 class="panel-title">
	  <a data-toggle="collapse" data-parent="#accordion_rightmenu" href="#collapseAfficher">
	    Affichage
	  </a>
	</h4>
      </div>
      <div id="collapseAfficher" class="panel-collapse collapse">
	<div class="panel-body">
	  <div class="row">
	    <div class="col-sm-6 col-md-6">
	      <button type="button" class="btn btn-default btn-block" id="btn_expand_all">
		<span class="glyphicon glyphicon-resize-full"></span> 
		Tout déplier
	      </button>
	    </div>
	    <div class="col-sm-6 col-md-6">
	      <button type="button" class="btn btn-default btn-block" id="btn_collapse_all">
		<span class="glyphicon glyphicon-resize-small"></span> 
		Tout plier
	      </button>
	    </div>
	  </div>
	  <hr/>
	  <!-- filtrage -->
	</div>
      </div>
    </div>      
    <button type="button" class="btn btn-default btn-block" id="btn_audit">
      {# <span class="glyphicon glyphicon-resize-small"></span> #}
      Générer un diagnostic...
    </button>

{% comment %}
	  <div class="panel-group" id="accordion_rightmenu">
	    <div class="panel panel-default">
	      <div class="panel-heading">
		<h4 class="panel-title">
		  <a data-toggle="collapse" data-parent="#accordion_rightmenu" href="#collapseEdit">
		    Éditer
		  </a>
		</h4>
	      </div>
	      <div id="collapseEdit" class="panel-collapse collapse">
		<div class="panel-body">
		  <button type="button" class="btn btn-block btn-default" id="btn_topic_add">Ajouter un topic</button>
		  <button type="button" class="btn btn-block btn-default"  id="btn_topics_delete">Supprimer les topics</button>
		  <button type="button" class="btn btn-block btn-default" id="btn_toc_add">Ajouter un sommaire</button>
		  <button type="button" class="btn btn-block btn-default" id="btn_idx_add">Ajouter un index </button>
		</div>
	      </div>
	    </div>
	    <div class="panel panel-default">
	      <div class="panel-heading">
		<h4 class="panel-title">
		  <a data-toggle="collapse" data-parent="#accordion_rightmenu" href="#collapseFilter">
		    Filtrer
		  </a>
		</h4>
	      </div>
	      <div id="collapseFilter" class="panel-collapse collapse">
		<div class="panel-body">
		  
		</div>
	      </div>
	    </div>
	    <div class="panel panel-default">
	      <div class="panel-heading">
		<h4 class="panel-title">
		  <a data-toggle="collapse" data-parent="#accordion_rightmenu" href="#collapsePub">
		    Publier
		  </a>
		</h4>
	      </div>
	      <div id="collapsePub" class="panel-collapse collapse">
		<div class="panel-body">
		</div>
	      </div>
	    </div>
	    <div class="panel panel-default">
	      <div class="panel-heading">
		<h4 class="panel-title">
		  <a data-toggle="collapse" data-parent="#accordion_rightmenu" href="#collapsePub2">
		    Publications
		  </a>
		</h4>
	      </div>
	      <div id="collapsePub2" class="panel-collapse collapse">
		<div class="panel-body">
		  TODO...
		</div>
	      </div>
	    </div>
	  </div>
{% endcomment %}
{% endblock %}


{% block content %}
<div class="main panel panel-default">
   <div id="toc_root" data-kolekti-title="{{ toctitle }}" data-kolekti-path="{{ tocpath }}">
  {{ toccontent|safe}}
   </div>
</div>
{% endblock %}

