{% extends "base.html" %}

{% block extracss %}
    <link rel="stylesheet" type="text/css"  href="/static/css/kolekti-tocs.css"></script>
{% endblock %}


{% block extrascripts %}
    <script src="/static/js/kolekti-tocs.js"></script>
    <script src="/static/js/kolekti-tocs-filter.js"></script>
{% endblock %}

{% block title %}{{ toctitle }}{% endblock %}


{% block menu %}
    
    <div>
      <button type="button" class="btn btn-default btn-block disabled" id="btn_save">
	{# <span class="glyphicon glyphicon-save"></span> #}
	Enregistrer
      </button>
      <button type="button" class="btn btn-default btn-block" id="btn_save_as">
	{# <span class="glyphicon glyphicon-save"></span> #}
	Enregistrer sous...
      </button>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
	<h4 class="panel-title">
	  <a data-toggle="collapse" href="#collapsePublier">
	    Publication
	  </a>
	</h4>
      </div>
      <div id="collapsePublier" class="panel-collapse collapse in">
	<div class="panel-body">
	  {% for job in jobs %}
	  <div class="checkbox">
	    <label>
  	      <input type="checkbox" class="publish_job" id="job_{{ job.name }}" data-kolekti-jobname="{{ job.name }}" data-kolekti-job="{{ job.path }}"/>
	      {{ job.name }}
	    </label>
	  </div>
	  
	  {% endfor %}
	  <div class="row">
	    <div class="col-sm-6 col-md-6">
	      <button type="button" class="btn btn-block btn-default btn_publish" id="btn_release">Publier</button>
	    </div>
	    <div class="col-sm-6 col-md-6">
	      <button type="button" class="btn btn-block btn-default btn_publish" id="btn_draft">Créer un instantané</button>
	    </div>
	  </div>
	</div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
	<h4 class="panel-title">
	  <a data-toggle="collapse" href="#collapseAfficher">
	    Affichage
	  </a>
	</h4>
      </div>
      <div id="collapseAfficher" class="panel-collapse collapse in">
	<div class="panel-body">
	  <div class="row">
	    <div class="col-sm-12 col-md-6">
	      <button type="button" class="btn btn-default btn-block" id="btn_expand_all">
		<span class="glyphicon glyphicon-resize-full"></span> 
		Tout déplier
	      </button>
	    </div>
	    <div class="col-sm-12 col-md-6">
	      <button type="button" class="btn btn-default btn-block" id="btn_collapse_all">
		<span class="glyphicon glyphicon-resize-small"></span> 
		Tout plier
	      </button>
	    </div>
	  </div>
	  <br>

	  <div class="panel panel-default">
	    <div class="panel-heading">Filtres sur le contenu</div>
	    <ul class="list-group" id="userconditions" >
	      <!-- filtrage -->	    
	    </ul>
	  </div>
	  <button type="button" class="btn btn-block btn-default" data-toggle="button" aria-pressed="false" autocomplete="off" id="btn_toggle_conditions">
	    Afficher les conditions
	  </button>
	</div>
      </div>
    </div>      
    <button type="button" class="btn btn-default btn-block" id="btn_audit">
      {# <span class="glyphicon glyphicon-resize-small"></span> #}
      Générer un diagnostic...
    </button>
{% endblock %}


{% block content %}
<div class="main">
   <div id="toc_root" data-kolekti-title="{{ toctitle }}" data-kolekti-path="{{ tocpath }}">
  {{ toccontent|safe}}
   </div>
</div>
{% endblock %}

